<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Punchline - iOS Drum Machine & AudioUnit</title>
    <meta name="description" content="A playful drum machine and sequencer for iOS with powerful features and AudioUnit plugins for DAW integration.">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
                <a class="app-icon-link header" href="#download" aria-label="Download on the App Store">
                    <img src="images/app-icon-large.png" alt="Punchline app icon">
                </a>
                <h1>Punchline</h1>
            </div>
            <div class="nav-links">
                <a href="#features">Features</a>
                <a href="#audio-units">AUv3</a>
                <a href="#demo">Demos</a>
                <a href="manual.html">Manual</a>
                <a href="kits/">Kits</a>
                <a href="privacy/">Privacy</a>
                <a class="cta-button" href="#download">Download</a>
            </div>
        </div>
        <div class="mobile-menu-dropdown" id="mobileMenuDropdown">
            <a href="#features" class="mobile-menu-item">Features</a>
            <a href="#audio-units" class="mobile-menu-item">AUv3</a>
            <a href="#demo" class="mobile-menu-item">Demos</a>
            <a href="manual.html" class="mobile-menu-item">Manual</a>
            <a href="kits/" class="mobile-menu-item">Kits</a>
            <a href="privacy/" class="mobile-menu-item">Privacy</a>
            <a href="#download" class="mobile-menu-item cta">Download</a>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-container">
            <div class="hero-text">
                <h1 class="hero-title">
                    The drum machine that <span class="gradient-text">punches above its weight</span>
                </h1>
                <p class="hero-subtitle">
                    A playful iOS drum machine and sequencer with powerful features. Create beats, record your changes, and automate effects. 
                    </p>
                <p class="hero-subtitle">
                Unlock more fun with Audio Unit plugins for integrated drum patterns or manipulate live audio with a sequenced gate and punch-in effects.
                </p>
                <p class="hero-subtitle">
                     For iPhone and iPad.
                </p>
                <div class="hero-actions">
                    <a href="#download" class="primary-button">Download for iOS</a>
                    <a href="#demo" class="secondary-button">See it in Action</a>
                </div>
            </div>
            <div class="hero-visual">
                <div class="hero-video-container">
                    <video 
                        class="hero-video" 
                        autoplay 
                        muted 
                        loop 
                        playsinline
                        poster="images/hero-demo.png"
                        width="1180" height="2556"
                    >
                        <source src="images/hero-demo.mp4" type="video/mp4">
                        <source src="images/hero-demo.webm" type="video/webm">
                        Your browser does not support the video tag.
                    </video>
                    <button class="video-unmute-btn" id="unmuteBtn" title="Unmute video">
                        <svg class="sound-off-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                        </svg>
                        <svg class="sound-on-icon" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                            <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <section id="features" class="features-section">
        <div class="section-container">
            <div class="section-header">
                <h2>Everything you need to create beats</h2>
                <p>From simple patterns to complex automation, Punchline gives you advanced tools in an intuitive interface.</p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="4" y="4" width="16" height="16" rx="2"/>
                            <rect x="9" y="9" width="6" height="6"/>
                            <path d="M9 1v6M15 1v6M9 17v6M15 17v6M1 9h6M17 9h6M1 15h6M17 15h6"/>
                        </svg>
                    </div>
                    <h3>16-Step Sequencer</h3>
                    <p>Intuitive 4×4 step grid with pattern chaining, retrigs, and live recording modes for complex beat programming. Select a step for razor-sharp parameter-locks or set per-sound pattern lengths for unique polyrhythms.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                        </svg>
                    </div>
                    <h3>16 Drum Sounds</h3>
                    <p>Classic drum samples including bass drum, snare, hi-hats, toms, and percussion with pitch, filter, and level controls. Import your own WAV files and create custom sample kits. Save and share kits as .punchlinekit bundles. <a href="kits/" style="color: #FF932f; text-decoration: underline;">Browse sample kits</a>.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6M12 17v6M1 12h6M17 12h6"/>
                        </svg>
                    </div>
                    <h3>Real-time Automation</h3>
                    <p>Record knob movements and effects automation in real-time.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 18v-6a9 9 0 0 1 18 0v6"/>
                            <path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"/>
                        </svg>
                    </div>
                    <h3>16 Punch-in Effects</h3>
                    <p>Curated effects including reverb, delay, distortion, filters, and modulation for creative sound design.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                        </svg>
                    </div>
                    <h3>Pattern Chaining</h3>
                    <p>Create complex song structures by chaining multiple patterns together for extended compositions.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.7,11.4c-0.6,0-1.2,0.2-1.7,0.5c-0.2,0.1-0.4,0.1-0.6,0c-0.2-0.1-0.3-0.3-0.3-0.5V7.6c0-0.6-0.5-1.1-1.1-1.1H12.2c-0.2,0-0.4-0.1-0.5-0.3s-0.1-0.4,0-0.6c0.3-0.5,0.4-1,0.4-1.6c0-1.8-1.4-3.2-3.2-3.2S5.7,2.2,5.7,4c0,0.6,0.1,1.1,0.4,1.6c0.1,0.2,0.1,0.4,0,0.6S5.8,6.5,5.6,6.5H1.1C0.5,6.5,0,7,0,7.6v3.7c0,0.2,0.1,0.4,0.3,0.5c0.2,0.1,0.4,0.1,0.6,0c0.5-0.2,1-0.4,1.5-0.4c1.8,0,3.2,1.4,3.2,3.2s-1.4,3.2-3.2,3.2c-0.5,0-1-0.1-1.5-0.4c-0.2-0.1-0.4-0.1-0.6,0C0.1,17.5,0,17.7,0,18v3.9c0,0.6,0.5,1.1,1.1,1.1h16c0.6,0,1.1-0.5,1.1-1.1v-4c0-0.2,0.1-0.4,0.3-0.5c0.2-0.1,0.4-0.1,0.6,0c0.5,0.3,1.1,0.5,1.7,0.5c1.8,0,3.2-1.4,3.2-3.2S22.5,11.4,20.7,11.4z"/>
                        </svg>
                    </div>
                    <h3>AudioUnit Integration</h3>
                    <p>Use in your favorite DAW as an AUv3 plugin for adding beats, or as a sequenced gate insert effect with the same punch-in FX.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="punch-in-effects" class="effects-list-section">
        <div class="section-container">
            <div class="section-header">
                <h2>Punch‑in Effects</h2>
                <p>Sixteen creative effects you can trigger live or automate for movement and transitions.</p>
            </div>
            <div class="effects-list-grid">
                <div class="effects-column">
                    <ul>
                        <li><strong>Bit Crush</strong> — Lo‑fi digital texture</li>
                        <li><strong>Distortion</strong> — Analog overdrive</li>
                        <li><strong>Reverb</strong> — Lush spatial reverb</li>
                        <li><strong>Delay</strong> — Tempo‑synced echoes</li>
                        <li><strong>Warble</strong> — Pitch modulation</li>
                        <li><strong>Phaser</strong> — Sweeping phase shifts</li>
                        <li><strong>Tape Stop</strong> — Vintage tape slowdown</li>
                        <li><strong>Note Shuffle</strong> — Timing humanization</li>
                    </ul>
                </div>
                <div class="effects-column">
                    <ul>
                        <li><strong>Lowpass Filter</strong> — Warm filtering</li>
                        <li><strong>Lowpass Sweep</strong> — Automatic filter movement</li>
                        <li><strong>Hipass Filter</strong> — Clean high‑pass</li>
                        <li><strong>Hipass Sweep</strong> — Rising filter effects</li>
                        <li><strong>1/4 Gate</strong> — Quarter‑note chops</li>
                        <li><strong>1/8 Gate</strong> — Eighth‑note rhythms</li>
                        <li><strong>1/8 Repeat</strong> — Stutter repeats</li>
                        <li><strong>1/16 Repeat</strong> — Rapid‑fire repeats</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="audio-units" class="audio-units-section">
        <div class="section-container">
            <div class="section-header">
                <h2> AudioUnit Integration</h2>
                <p>Use Punchline in your DAW with full-featured AudioUnit v3 plugins for seamless workflow integration.</p>
            </div>

            <div class="audio-unit-cards two-up">
                <div class="audio-unit-card player-unit">
                    <div class="unit-header">
                        <h3>Punchline Player</h3>
                        <!-- <span class="unit-type">Instrument (aumu)</span> -->
                    </div>
                    <div class="unit-content">
                        <div class="demo-preview" data-demo="player-au">
                            <video class="demo-video" playsinline preload="none" poster="images/player-au-interface.png">
                                <source src="images/demo-player-au.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="play-button">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="unit-description">
                            <p>Full-featured drum machine and sequencer plugin. Create patterns, automate parameters, and trigger sounds via MIDI in your favorite DAW.</p>
                        </div>
                        <div class="unit-features">
                            <h4>Key Features:</h4>
                            <ul>
                                <li>All the same sequencing and effects as the main Punchline app</li>
                                <li>Full MIDI implementation with pad and effects triggering, plus parameter CC</li>
                                <li>Tempo sync with host DAW</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="audio-unit-card effects-unit">
                    <div class="unit-header">
                        <h3>Punchline FX</h3>
                        <!-- <span class="unit-type">Effect (aufx)</span> -->
                    </div>
                    <div class="unit-content">
                        <div class="demo-preview" data-demo="effects-au">
                            <video class="demo-video" playsinline preload="none" poster="images/effects-au-interface.png">
                                <source src="images/demo-effects-au.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="play-button">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="unit-description">
                            <p>Use the same Punchline sequencer to program a step-based rhythmic gate effect on <strong>live audio</strong>. Add punch-in effects and shape the sound with automatable gate length, level, and a classic Moog-style filter.</p>
                        </div>
                        <div class="unit-features">
                            <h4>Key Features:</h4>
                            <ul>
                                <li>All the same sequencing and effects as the main Punchline app</li>
                                <li>Automate global gate length, level, and a juicy Moog-style filter</li>
                                <li>Full MIDI implementation with FX and gate triggering, plus global parameter CC</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="demo" class="demo-section">
        <div class="section-container">
            <div class="section-header">
                <h2>See Punchline in Action</h2>
                <p>Watch how Punchline transforms your creative workflow with intuitive beat making and powerful effects.</p>
            </div>
            
            <div class="demo-grid">
                <div class="demo-item">
                    <div class="demo-preview" data-demo="sequencing">
                        <video class="demo-video" playsinline preload="none" poster="images/demo-sequencing.png">
                            <source src="images/demo-sequencing.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <div class="play-button">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M8 5v14l11-7z"/>
                            </svg>
                        </div>
                    </div>
                    <h3>Step Sequencing</h3>
                    <p>Create complex drum patterns with the intuitive 16-step sequencer</p>
                </div>

                <div class="demo-item">
                    <div class="demo-preview" data-demo="effects">
                        <video class="demo-video" playsinline preload="none" poster="images/demo-effects.png">
                            <source src="images/demo-effects.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <div class="play-button">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M8 5v14l11-7z"/>
                            </svg>
                        </div>
                    </div>
                    <h3>Punch-in Effects</h3>
                    <p>Add impactful effects in real-time with punch-in controls</p>
                </div>

                <div class="demo-item">
                    <div class="demo-preview" data-demo="automation">
                        <video class="demo-video" playsinline preload="none" poster="images/demo-automation.png">
                            <source src="images/demo-automation.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <div class="play-button">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M8 5v14l11-7z"/>
                            </svg>
                        </div>
                    </div>
                    <h3>Parameter Automation</h3>
                    <p>Record smooth knob movements and build dynamic arrangements</p>
                </div>
            </div>
        </div>
    </section>

    <section id="download" class="download-section">
        <div class="section-container">
            <div class="download-card">
                <div class="download-content">
                    <h2>Ready to make beats?</h2>
                    <p>Download Punchline and transform your iOS device into a fun, powerful drum machine with AudioUnit integration.</p>
                    <div class="download-actions">
                        <a href="https://apps.apple.com/us/app/id6748292824" class="primary-button large">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"/>
                            </svg>
                            Download on the App Store
                        </a>
                        <div class="download-info">
                            <span>iOS 17.6+</span>
                            <span>•</span>
                            <span>iPhone & iPad</span>
                            <span>•</span>
                            <span>AudioUnit v3</span>
                        </div>
                    </div>
                </div>
                <div class="download-visual">
                    <img src="images/app-icon-large.png" alt="Punchline App Icon">
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <a class="app-icon-link footer" href="#download" aria-label="Download on the App Store">
                    <img src="images/app-icon-large.png" alt="Punchline app icon">
                </a>
                <h3>Punchline</h3>
                <p>Playful iOS drum machine and gate sequencer.</p>
            </div>
            <div class="footer-links">
                <div class="footer-section">
                    <h4>Product</h4>
                    <a href="#features">Features</a>
                    <a href="#audio-units">AUv3</a>
                    <a href="#demo">Demo</a>
                    <a href="manual.html">Manual</a>
                    <a href="kits/">Kits</a>
                </div>
                <div class="footer-section">
                    <h4>Links</h4>
                    <a href="testflight/">TestFlight</a>
                    <a href="privacy/">Privacy</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Punchline. All rights reserved.</p>
            <p style="margin-top: var(--space-sm); color: var(--text-secondary);">
                Questions? Support? <a href="mailto:punchline@charles.pizza" style="color: #FF932f; text-decoration: underline;">Get in touch!</a>
            </p>
        </div>
    </footer>

    <script>
        // Mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const mobileMenuDropdown = document.getElementById('mobileMenuDropdown');
            const mobileMenuItems = document.querySelectorAll('.mobile-menu-item');
            let isMenuOpen = false;
            
            // Toggle menu
            mobileMenuToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                isMenuOpen = !isMenuOpen;
                if (isMenuOpen) {
                    mobileMenuToggle.classList.add('active');
                    mobileMenuDropdown.classList.add('active');
                } else {
                    mobileMenuToggle.classList.remove('active');
                    mobileMenuDropdown.classList.remove('active');
                }
            });
            
            // Close menu when clicking outside
            document.addEventListener('click', function(e) {
                if (isMenuOpen && !mobileMenuDropdown.contains(e.target) && e.target !== mobileMenuToggle) {
                    isMenuOpen = false;
                    mobileMenuToggle.classList.remove('active');
                    mobileMenuDropdown.classList.remove('active');
                }
            });
            
            // Close menu when clicking menu items
            mobileMenuItems.forEach(item => {
                item.addEventListener('click', function() {
                    isMenuOpen = false;
                    mobileMenuToggle.classList.remove('active');
                    mobileMenuDropdown.classList.remove('active');
                });
            });
            
            // Close menu on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && isMenuOpen) {
                    isMenuOpen = false;
                    mobileMenuToggle.classList.remove('active');
                    mobileMenuDropdown.classList.remove('active');
                }
            });
            
            // Video unmute functionality
            const video = document.querySelector('.hero-video');
            const unmuteBtn = document.getElementById('unmuteBtn');
            const soundOffIcon = unmuteBtn.querySelector('.sound-off-icon');
            const soundOnIcon = unmuteBtn.querySelector('.sound-on-icon');

            if (video && unmuteBtn) {
                unmuteBtn.addEventListener('click', function() {
                    if (video.muted) {
                        video.muted = false;
                        soundOffIcon.style.display = 'none';
                        soundOnIcon.style.display = 'block';
                        unmuteBtn.title = 'Mute video';
                    } else {
                        video.muted = true;
                        soundOffIcon.style.display = 'block';
                        soundOnIcon.style.display = 'none';
                        unmuteBtn.title = 'Unmute video';
                    }
                });

                // Handle autoplay policies - some browsers may prevent autoplay
                video.addEventListener('loadeddata', function() {
                    video.play().catch(function(error) {
                        console.log('Autoplay prevented:', error);
                    });
                });
            }

            // Demo and AudioUnit previews: click image to play the associated video
            const demoPreviews = document.querySelectorAll('.demo-preview');
            const demoVideos = document.querySelectorAll('.demo-video');

            function pauseOtherDemos(except) {
                demoVideos.forEach(v => {
                    if (v !== except) {
                        v.pause();
                        v.currentTime = 0;
                        const pb = v.closest('.demo-preview')?.querySelector('.play-button');
                        if (pb) pb.style.display = '';
                    }
                });
            }

            demoPreviews.forEach(preview => {
                const v = preview.querySelector('.demo-video');
                const pb = preview.querySelector('.play-button');
                if (!v || !pb) return;

                // clicking anywhere on the preview (including the video) toggles play/pause
                preview.addEventListener('click', () => {
                    if (v.paused) {
                        pauseOtherDemos(v);
                        v.play().catch(() => {});
                    } else {
                        v.pause();
                    }
                });

                v.addEventListener('play', () => {
                    pb.style.display = 'none';
                });
                v.addEventListener('pause', () => {
                    pb.style.display = '';
                });
                v.addEventListener('ended', () => {
                    pb.style.display = '';
                    v.currentTime = 0;
                });
            });
        });
    </script>
</body>
</html>